
<!-- convenient templates to use in different tests -->
<template name="spacebars_template_test_aaa">
  aaa
</template>

<template name="spacebars_template_test_bbb">
  bbb
</template>

<template name="spacebars_template_test_bracketed_this">
  [{{this}}]
</template>

<template name="spacebars_template_test_span_this">
  <span>{{this}}</span>
</template>

<template name="spacebars_template_test_content">
  {{> Template.contentBlock}}
</template>

<template name="spacebars_template_test_elsecontent">
  {{> Template.elseBlock}}
</template>

<template name="spacebars_template_test_iftemplate">
  {{#if condition}}
    {{> Template.contentBlock}}
  {{else}}
    {{> Template.elseBlock}}
  {{/if}}
</template>

<template name="spacebars_template_test_bracketed_foo">
  [{{foo}}]
</template>

<!-- -->



<template name="spacebars_template_test_simple_helper">
  {{foo bar}}
</template>

<template name="spacebars_template_test_member_helper">
  {{user.prefixName 'Mr.'}}
</template>

<template name="spacebars_template_test_dynamic_template">
  {{> foo}}
</template>

<template name="spacebars_template_test_interpolate_attribute">
  <div class="aaa{{foo bar}}zzz"></div>
</template>

<template name="spacebars_template_test_dynamic_attrs">
  <span {{attrsObj}} {{singleAttr}} {{nonexistent}}>hi</span>
</template>

<template name="spacebars_template_test_triple">
  {{{html}}}
</template>

<template name="spacebars_template_test_triple2">
  x{{{html}}}{{{html2}}}{{{html3}}}y
</template>

<template name="spacebars_template_test_inclusion_args">
  {{> foo bar}}
</template>

<template name="spacebars_template_test_inclusion_args2">
  {{> foo bar q=baz}}
</template>

<template name="spacebars_template_test_inclusion_dotted_args">
  {{> foo bar.baz}}
</template>

<template name="spacebars_template_test_inclusion_slashed_args">
  {{> foo bar/baz}}
</template>

<template name="spacebars_template_test_block_helper">
  {{#foo}}
    bar
  {{else}}
    baz
  {{/foo}}
</template>

<template name="spacebars_template_test_block_helper_function_one_string_arg">
  {{#foo "bar"}}
    content
  {{/foo}}
</template>

<template name="spacebars_template_test_block_helper_function_one_helper_arg">
  {{#foo bar}}
    content
  {{/foo}}
</template>

<template name="spacebars_template_test_block_helper_component_one_helper_arg">
  {{#if bar}}
    content
  {{/if}}
</template>

<template name="spacebars_template_test_block_helper_component_three_helper_args">
  {{#if equals bar_or_baz "bar"}}
    content
  {{/if}}
</template>

<template name="spacebars_template_test_block_helper_dotted_arg">
  {{#foo bar.baz qux}}{{/foo}}
</template>

<template name="spacebars_template_test_nested_content">
  {{#spacebars_template_test_iftemplate condition=flag}}
    hello
  {{else}}
    world
  {{/spacebars_template_test_iftemplate}}
</template>

<template name="spacebars_template_test_iftemplate2">
  {{#spacebars_template_test_iftemplate condition=flag}}
    {{> Template.contentBlock}}
  {{else}}
    {{> Template.elseBlock}}
  {{/spacebars_template_test_iftemplate}}
</template>

<template name="spacebars_template_test_nested_content2">
  {{#spacebars_template_test_iftemplate2 flag=x}}
    hello
  {{else}}
    world
  {{/spacebars_template_test_iftemplate2}}
</template>

<template name="spacebars_template_test_if">
  {{#if foo}}
    {{bar}}
  {{else}}
    {{baz}}
  {{/if}}
</template>

<template name="spacebars_template_test_if_in_with">
  {{#with foo}}
    {{bar}}
    {{#if true}}
      {{bar}}
    {{/if}}
  {{/with}}
</template>

<template name="spacebars_template_test_each">
  {{#each items}}
    {{text}}
  {{else}}
    else-clause
  {{/each}}
</template>

<template name="spacebars_template_test_dots">
  {{#with foo}}
    A
    {{#with bar}}
      B
      {{! #if shouldn't add a data context }}
      {{#if true}}
        C
        {{#each items}}
          D
          {{! inclusion should only add a data context if passed explicitly }}
          {{> spacebars_template_test_dots_subtemplate}}
          {{> spacebars_template_test_dots_subtemplate ..}}
        {{/each}}
      {{/if}}
    {{/with}}
  {{/with}}
</template>

<template name="spacebars_template_test_dots_subtemplate">
  TITLE
  1{{title}}
  2{{./title}}
  3{{../title}}
  4{{../../title}}

  GETTITLE
  5{{getTitle .}}
  6{{getTitle ..}}
  7{{getTitle ../..}}
</template>

<template name="spacebars_template_test_select_tag">
  <select>
    {{#each optgroups}}
      <optgroup label={{label}}>
        {{#each options}}
          <option value={{value}} {{selectedAttr}}>{{label}}</option>
        {{/each}}
      </optgroup>
    {{/each}}
  </select>
</template>

<!-- Test for issue #770 - falsy value for with. -->
<template name="test_template_issue770">
  {{# with value1}}
    {{this}}
  {{else}}
    xxx
  {{/with}}

  {{# with value2}}
    {{this}}
  {{else}}
    xxx
  {{/with}}

  {{# with value1}}
    {{this}}
  {{/with}}

  {{# with value2}}
    {{this}}
  {{/with}}
</template>

<template name="spacebars_template_test_tricky_attrs">
  <input type={{theType}}><input type=checkbox class={{theClass}}>
</template>

<template name="spacebars_template_test_no_data">
  {{this.foo}}{{#unless this.bar}}asdf{{/unless}}
</template>

<template name="spacebars_template_test_textarea">
  <textarea>{{foo}}</textarea>
</template>

<template name="spacebars_template_test_textarea2">
  <textarea>{{#if foo}}</not a tag>{{else}}<also not a tag>{{/if}}</textarea>
</template>

<template name="spacebars_template_test_textarea3">
  <textarea id="myTextarea">{{foo}}</textarea>
</template>

<template name="spacebars_template_test_textarea_each">
  <textarea>{{#each foo}}<not a tag {{.}} {{else}}<>{{/each}}</textarea>
</template>

<template name="spacebars_template_test_defer_in_rendered">
  {{#each items}}
    {{> spacebars_template_test_defer_in_rendered_subtemplate}}
  {{/each}}
</template>

<template name="spacebars_template_test_defer_in_rendered_subtemplate">
  {{! see rendered callback }}
</template>

<template name="spacebars_template_test_with_someData">
  {{#with someData}}
    {{foo}} {{bar}}
  {{/with}}
</template>

<template name="spacebars_template_test_each_stops">
  {{#each items}}
    x
  {{/each}}
</template>

<template name="spacebars_template_test_block_helpers_in_attribute">
  <div class="{{#each classes}}{{#if startsLowerCase name}}{{name}} {{/if}}{{else}}none{{/each}}">Smurf</div>
</template>

<template name="spacebars_template_test_block_helpers_in_attribute_2">
  <input value="{{#if foo}}"{{else}}&&lt;></x>{{/if}}">
</template>

<template name="spacebars_template_test_constant_each_argument">
  {{#with someData}}
    {{#each anArray}}
      {{justReturn this}}
    {{/each}}
    {{this}}
  {{/with}}
</template>

<template name="spacebars_template_test_markdown_basic">
  {{#with obj}}
    {{#markdown}}
{{hi}}
/each}}

<b>{{hi}}</b>
<b>/each}}</b>

* {{hi}}
* /each}}

* <b>{{hi}}</b>
* <b>/each}}</b>

some paragraph to fix showdown's four space parsing below.

    {{hi}}
    /each}}

    <b>{{hi}}</b>
    <b>/each}}</b>

&gt

* &gt

`&gt`

    &gt

&gt;

* &gt;

`&gt;`

    &gt;

`{{hi}}`
`/each}}`

`<b>{{hi}}</b>`
`<b>/each}}`

    {{/markdown}}
  {{/with}}
</template>

<template name="spacebars_template_test_markdown_if">
  {{#markdown}}

{{#if cond}}true{{else}}false{{/if}}

<b>{{#if cond}}true{{else}}false{{/if}}</b>

* {{#if cond}}true{{else}}false{{/if}}

* <b>{{#if cond}}true{{else}}false{{/if}}</b>

some paragraph to fix showdown's four space parsing below.

    {{#if cond}}true{{else}}false{{/if}}

    <b>{{#if cond}}true{{else}}false{{/if}}</b>

`{{#if cond}}true{{else}}false{{/if}}`

`<b>{{#if cond}}true{{else}}false{{/if}}</b>`

  {{/markdown}}
</template>

<template name="spacebars_template_test_markdown_each">
  {{#markdown}}

{{#each seq}}{{.}}{{/each}}

<b>{{#each seq}}{{.}}{{/each}}</b>

* {{#each seq}}{{.}}{{/each}}

* <b>{{#each seq}}{{.}}{{/each}}</b>

some paragraph to fix showdown's four space parsing below.

    {{#each seq}}{{.}}{{/each}}

    <b>{{#each seq}}{{.}}{{/each}}</b>

`{{#each seq}}{{.}}{{/each}}`

`<b>{{#each seq}}{{.}}{{/each}}</b>`

  {{/markdown}}
</template>

<template name="spacebars_template_test_markdown_inclusion">
  {{#markdown}}
{{> spacebars_template_test_markdown_inclusion_subtmpl}}
  {{/markdown}}
</template>

<template name="spacebars_template_test_markdown_inclusion_subtmpl">
  <span>{{#if foo}}Foo is {{foo}}.{{/if}}</span>
</template>

<template name="spacebars_template_test_markdown_block_helpers">
  {{#markdown}}
    {{#spacebars_template_test_just_content}}
Hi there!
    {{/spacebars_template_test_just_content}}
  {{/markdown}}
</template>

<template name="spacebars_template_test_just_content">
  {{> Template.contentBlock}}
</template>

<template name="spacebars_template_test_simple_helpers_are_isolated">
  {{foo}}
</template>

<template name="spacebars_template_test_attr_helpers_are_isolated">
  <p attr={{foo}}></p>
</template>

<template name="spacebars_template_test_attr_object_helpers_are_isolated">
  <p {{attrs}}></p>
</template>

<template name="spacebars_template_test_inclusion_helpers_are_isolated">
  {{> foo}}
</template>

<template name="spacebars_template_test_inclusion_helpers_are_isolated_subtemplate">
</template>

<template name="spacebars_template_test_nully_attributes0">
  <input type="checkbox" checked="" stuff="">
</template>

<template name="spacebars_template_test_nully_attributes1">
  <input type="checkbox" checked={{foo}} stuff={{foo}}>
</template>

<template name="spacebars_template_test_nully_attributes2">
  <input type="checkbox" checked={{foo}}{{bar}} stuff={{foo}}{{bar}}>
</template>

<template name="spacebars_template_test_nully_attributes3">
  <input type="checkbox" checked={{#if foo}}{{/if}} stuff={{#if foo}}{{/if}}>
</template>

<template name="spacebars_template_test_double">
  {{foo}}
</template>

<template name="spacebars_template_test_inclusion_lookup">
  {{> spacebars_template_test_inclusion_lookup_subtmpl}}
  {{> dataContextSubtmpl}}
</template>

<template name="spacebars_template_test_inclusion_lookup_subtmpl">
  This is the template.
</template>

<template name="spacebars_template_test_inclusion_lookup_subtmpl2">
  This is generated by a helper with the same name.
</template>

<template name="spacebars_template_test_inclusion_lookup_subtmpl3">
  This is a template passed in the data context.
</template>

<template name="spacebars_template_test_content_context">
  {{#with foo}}
    {{#with bar}}
      {{#spacebars_template_test_iftemplate condition=cond}}
        {{firstLetter}}{{../secondLetter}}
      {{else}}
        {{../firstLetter}}{{secondLetter}}
      {{/spacebars_template_test_iftemplate}}
    {{/with}}
  {{/with}}
</template>

<template name="spacebars_test_control_input">
  <input type={{type}} value={{value}}>
</template>

<template name="spacebars_test_control_textarea">
  <textarea>{{value}}</textarea>
</template>

<template name="spacebars_test_control_select">
  <select>
    {{#each options}}
      <option selected={{selected}}>{{.}}</option>
    {{/each}}
  </select>
</template>

<template name="spacebars_test_control_radio">
  Band:

  {{#each bands}}
    <input name="bands" type="radio" value={{.}} checked={{isChecked}} />
  {{/each}}

  {{band}}
</template>

<template name="spacebars_test_control_checkbox">
  {{#each labels}}
    <input type="checkbox" value={{.}} checked={{isChecked}} />
  {{/each}}
</template>

<template name="spacebars_test_nonexistent_template">
  {{> this_template_lives_in_outer_space}}
</template>

<template name="spacebars_test_if_helper">
  {{#if foo}}
    true
  {{else}}
    false
  {{/if}}
</template>

<template name="spacebars_test_block_helper_function">
  {{#foo}}
  {{/foo}}
</template>

<template name="spacebars_test_helpers_stop_onetwo">
  {{#if showOne}}
    {{> one}}
  {{else}}
    {{> two}}
  {{/if}}
</template>

<template name="spacebars_test_helpers_stop_onetwo_attribute">
  <br data-stuff=
  {{#if showOne}}
    {{> one}}
  {{else}}
    {{> two}}
  {{/if}}>
</template>

<template name="spacebars_test_helpers_stop_with1">
  {{#with options}}
    one
  {{/with}}
</template>

<template name="spacebars_test_helpers_stop_with2">
  {{#with options}}
    two
  {{/with}}
</template>

<template name="spacebars_test_helpers_stop_each1">
  {{#each options}}
    one
  {{/each}}
</template>

<template name="spacebars_test_helpers_stop_each2">
  {{#each options}}
    two
  {{/each}}
</template>

<template name="spacebars_test_helpers_stop_with_each1">
  {{#with options}}
    {{> spacebars_test_helpers_stop_with_each3}}
  {{/with}}
</template>

<template name="spacebars_test_helpers_stop_with_each2">
  {{#with options}}
    {{> spacebars_test_helpers_stop_with_each3}}
  {{/with}}
</template>

<template name="spacebars_test_helpers_stop_with_each3">
  {{#each this}}
  {{/each}}
</template>

<template name="spacebars_test_helpers_stop_if1">
  {{#if options}}
    one
  {{/if}}
</template>

<template name="spacebars_test_helpers_stop_if2">
  {{#if options}}
    two
  {{/if}}
</template>

<template name="spacebars_test_helpers_stop_inclusion1">
  {{> options}}
</template>

<template name="spacebars_test_helpers_stop_inclusion2">
  {{> options}}
</template>

<template name="spacebars_test_helpers_stop_inclusion3">
  blah
</template>

<template name="spacebars_test_helpers_stop_with_callbacks1">
  {{#with options}}
    {{> spacebars_test_helpers_stop_with_callbacks3}}
  {{/with}}
</template>

<template name="spacebars_test_helpers_stop_with_callbacks2">
  {{#with options}}
    {{> spacebars_test_helpers_stop_with_callbacks3}}
  {{/with}}
</template>

<template name="spacebars_test_helpers_stop_with_callbacks3">
  blah
</template>

<template name="spacebars_test_helpers_stop_unless1">
  {{#unless options}}
    one
  {{/unless}}
</template>

<template name="spacebars_test_helpers_stop_unless2">
  {{#unless options}}
    two
  {{/unless}}
</template>

<template name="spacebars_test_no_data_context">
  <button></button>
  {{foo}}
</template>

<template name="spacebars_test_falsy_with">
  {{#with obj}}
    {{greekLetter}}
  {{/with}}
</template>

<template name="spacebars_test_helpers_dont_leak">
  {{> spacebars_test_helpers_dont_leak2 foo="correct"}}
</template>

<template name="spacebars_test_helpers_dont_leak2">
  {{foo}}{{bar}} {{#spacebars_template_test_content}}{{bonus}}{{/spacebars_template_test_content}}
</template>

<template name="spacebars_test_event_returns_false">
  <a href="#bad-url" id="spacebars_test_event_returns_false_link">click me</a>
</template>

<template name="spacebars_test_event_selectors1">
  <div>{{> spacebars_test_event_selectors2}}</div>
</template>

<template name="spacebars_test_event_selectors2">
  <p class="p1">Not it</p>
  <div><p class="p2">It</p></div>
</template>

<template name="spacebars_test_event_selectors_capturing1">
  <div>{{> spacebars_test_event_selectors_capturing2}}</div>
</template>

<template name="spacebars_test_event_selectors_capturing2">
  <video class='video1'>
    <source id='mp4'
      src="http://media.w3.org/2010/05/sintel/trailer.mp4"
      type='video/mp4'>
  </video>
  <div>
    <video class='video2'>
      <source id='mp4'
        src="http://media.w3.org/2010/05/sintel/trailer.mp4"
        type='video/mp4'>
    </video>
  </div>
</template>

<template name="spacebars_test_tables1">
  <table><tr><td>Foo</td></tr></table>
</template>

<template name="spacebars_test_tables2">
  <table><tr><td>{{foo}}</td></tr></table>
</template>

<template name="spacebars_test_jquery_events">
  <button type="button">button</button>
</template>

<template name="spacebars_test_tohtml_basic">
  {{foo}}
</template>

<template name="spacebars_test_tohtml_if">
  {{#if true}}
    {{foo}}
  {{/if}}
</template>

<template name="spacebars_test_tohtml_with">
  {{#with foo}}
    {{.}}
  {{/with}}
</template>

<template name="spacebars_test_tohtml_each">
  {{#each foos}}
    {{.}}
  {{/each}}
</template>

<template name="spacebars_test_tohtml_include_with">
  {{> spacebars_test_tohtml_with}}
</template>

<template name="spacebars_test_tohtml_include_each">
  {{> spacebars_test_tohtml_each}}
</template>

<template name="spacebars_test_block_comment">
  {{!-- foo --}}
  {{!--
    {{bar}}
  --}}
</template>

<template name="spacebars_test_with_mutated_data_context">
  {{#with foo}}
    {{value}}
  {{/with}}
</template>

<template name="spacebars_test_url_attribute">
  <a href="{{foo}}"></a>
  <a hReF="{{foo}}"></a>
  <form action="{{foo}}"></form>
  <img src="{{foo}}" />
  <input value="{{foo}}" />
</template>

<template name="spacebars_test_event_handler_cleanup">
  {{#if foo}}
    {{>spacebars_test_event_handler_cleanup_sub}}
  {{/if}}
</template>

<template name="spacebars_test_event_handler_cleanup_sub">
  <div></div>
</template>

<template name="spacebars_test_data_context_for_event_handler_in_if">
  {{#with foo="bar"}}
    {{#if true}}
      <span>Click me!</span>
    {{/if}}
  {{/with}}
</template>


<template name="spacebars_test_each_with_autorun_insert">
  {{#each items}}
    {{name}}
  {{/each}}
</template>

<template name="spacebars_test_ui_hooks">
  <div class="test-ui-hooks">
    {{#each items}}
      <div class="item">{{_id}}</div>
    {{/each}}
  </div>
</template>

<template name="spacebars_test_ui_hooks_nested">
  {{#if foo}}
    {{> spacebars_test_ui_hooks_nested_sub}}
  {{/if}}
</template>

<template name="spacebars_test_ui_hooks_nested_sub">
  <div>
    {{#with true}}
      <p>hello</p>
    {{/with}}
  </div>
</template>

<template name="spacebars_test_template_instance_helper">
  {{#with true}}{{foo}}{{/with}}
</template>

<template name="spacebars_test_with_cleanup">
  <div class="test-with-cleanup">
    {{#with foo}}
      {{this}}
    {{/with}}
  </div>
</template>

<template name="spacebars_test_template_parent_data_helper">
  {{#with "parent"}}
    {{> spacebars_test_template_parent_data_helper_child}}
  {{/with}}
</template>

<template name="spacebars_test_template_parent_data_helper_child">
  {{#each a}}
    {{#with b}}
      {{#if c}}
        {{#with "d"}}
          {{foo}}
        {{/with}}
      {{/if}}
    {{/with}}
  {{/each}}
</template>

<template name="spacebars_test_svg_anchor">
  <svg>
    <a xlink:href="http://www.example.com">Foo</a>
  </svg>
</template>

<template name="spacebars_test_template_created_rendered_destroyed_each">
  {{#each items}}
    <div>{{> spacebars_test_template_created_rendered_destroyed_each_sub _id}}</div>
  {{/each}}
</template>

<template name="spacebars_test_template_created_rendered_destroyed_each_sub">
  {{.}}
</template>

<template name="spacebars_test_ui_getElementData">
  <span></span>
</template>

<template name="spacebars_test_ui_render">
  <span>{{greeting}} {{r}}</span>
</template>

<template name="spacebars_test_parent_removal">
  <div class="a">
    <div class="b">
      <div class="toremove">
        <div class="c">
          {{A 1}}
          {{{A 2}}}
          {{#with A 3}}
            {{A 4}}
            {{#with A 5}}
              {{A 6}}
            {{/with}}
          {{/with}}
          {{#each B}}
            {{A 7}}
          {{/each}}
          {{#if A 8}}
            {{A 9}}
          {{else}}
            {{A 'a'}}
          {{/if}}
        </div>
      </div>
    </div>
  </div>
</template>

<template name="spacebars_test_focus_blur_outer">
  {{#if cond}}
    a {{> spacebars_test_focus_blur_inner}}
  {{else}}
    b {{> spacebars_test_focus_blur_inner}}
  {{/if}}
</template>

<template name="spacebars_test_focus_blur_inner">
  <input type="text">
</template>

<template name="spacebars_test_event_cleanup_on_destroyed_outer">
  {{#if cond}}
    <div>a {{> spacebars_test_event_cleanup_on_destroyed_inner}}</div>
  {{else}}
    <div>b {{> spacebars_test_event_cleanup_on_destroyed_inner}}</div>
  {{/if}}
</template>

<template name="spacebars_test_event_cleanup_on_destroyed_inner">
  <span>foo</span>
</template>

<template name="spacebars_test_isolated_lookup_inclusion">
  x
</template>

<template name="spacebars_test_isolated_lookup1">
  {{> foo}}--{{> spacebars_test_isolated_lookup_inclusion}}
</template>

<template name="spacebars_test_isolated_lookup2">
  {{#with foo}}
    {{#with z=1}}
      {{> ..}}--{{> spacebars_test_isolated_lookup_inclusion}}
    {{/with}}
  {{/with}}
</template>

<template name="spacebars_test_isolated_lookup3">
  {{> bar}}--{{> spacebars_test_isolated_lookup_inclusion}}
</template>

<template name="spacebars_test_current_view_in_event">
  <span>{{.}}</span>
</template>

<template name="spacebars_test_textarea_attrs">
  <textarea {{attrs}}></textarea>
</template>

<template name="spacebars_test_textarea_attrs_contents">
  <textarea {{attrs}}>Hello {{name}}</textarea>
</template>

<template name="spacebars_test_textarea_attrs_array_contents">
  <textarea {{attrs}} class="bar">Hello {{name}}</textarea>
</template>

<template name="spacebars_test_autorun">
  {{#if show}}
    {{>spacebars_test_autorun_inner}}
  {{/if}}
</template>

<template name="spacebars_test_autorun_inner">
  Hello
</template>

<template name="spacebars_test_contentBlock_arg">
  {{#spacebars_test_contentBlock_arg_inner}}
    {{this.bar}}
  {{/spacebars_test_contentBlock_arg_inner}}
</template>

<template name="spacebars_test_contentBlock_arg_inner">
  {{#with foo="AAA" bar="BBB"}}
    {{this.foo}} {{> Template.contentBlock this}}
  {{/with}}
</template>

<template name="spacebars_template_test_input_field_to_same_value">
  <input type="text" value={{foo}}>
</template>

<template name="spacebars_template_test_content_backcompat">
  {{#spacebars_template_test_iftemplate_backcompat condition=flag}}
    hello
  {{else}}
    world
  {{/spacebars_template_test_iftemplate_backcompat}}
</template>

<template name="spacebars_template_test_iftemplate_backcompat">
  {{#if condition}}
    {{> UI.contentBlock}}
  {{else}}
    {{> UI.elseBlock}}
  {{/if}}
</template>

<template name="spacebars_template_test_content_context_backcompat">
  {{#with foo}}
    {{#with bar}}
      {{#spacebars_template_test_iftemplate_backcompat condition=cond}}
        {{firstLetter}}{{../secondLetter}}
      {{else}}
        {{../firstLetter}}{{secondLetter}}
      {{/spacebars_template_test_iftemplate_backcompat}}
    {{/with}}
  {{/with}}
</template>

<template name="spacebars_template_test_falsy_helper">
  foo:{{foo}} GLOBAL_ZERO:{{GLOBAL_ZERO}}
</template>

<template name="spacebars_template_test_oldstyle_helpers">
  {{foo}}
</template>

<!-- issue meteor/meteor #3130 -->
<template name="spacebars_template_test_with_data_remove">
  <b>some data - {{foo}}</b>
</template>

<template name="spacebars_template_test_inclusion_with_data_remove">
  <span>
    {{> spacebars_template_test_inclusion_with_data_remove_inner "stuff"}}
  </span>
</template>

<template name="spacebars_template_test_inclusion_with_data_remove_inner">
  <b>{{.}}</b>
</template>

<!-- issue meteor/meteor #3540 -->
<template name="spacebars_template_test_template_instance_wrapper_outer">
  {{#spacebars_template_test_template_instance_wrapper_wrapper}}
    {{thisShouldOutputHello}}
  {{/spacebars_template_test_template_instance_wrapper_wrapper}}
  {{thisShouldOutputHello}}
</template>

<template name="spacebars_template_test_template_instance_wrapper_wrapper">
  {{> Template.contentBlock}}
</template>

<template name="spacebars_template_test_template_level_subscriptions">
  {{#if Template.subscriptionsReady}}
    ready!
  {{/if}}
  {{Template.subscriptionsReady}}
</template>

<template name="spacebars_template_test_template_level_subs_resubscribe">
  {{#if ifArg}}
    {{subscribingHelper1}}
  {{else}}
    {{subscribingHelper2}}
  {{/if}}
</template>

<template name="spacebars_template_test_old_each_data_context">
  {{#each items}}
    <div>{{text}}</div>
  {{/each}}
</template>

<template name="spacebars_template_test_new_each_data_context">
  {{#with dataContext}}
    {{#each item in items}}
      <div>{{item.text}} -- {{toplevel}}</div>
    {{/each}}
  {{/with}}
</template>

<template name="spacebars_template_test_new_each_data_context_subexpr">
  {{#with dataContext}}
    {{#each item in (items)}}
      <div>{{item.text}} -- {{toplevel}}</div>
    {{/each}}
  {{/with}}
</template>

<template name="spacebars_template_test_new_each_lookup_top_level">
  {{#with dataContext}}
    {{#each item in letter_a}}
      {{#spacebars_template_test_new_each_lookup_block_helper}}
        <div>
          {{item}}
        </div>
      {{/spacebars_template_test_new_each_lookup_block_helper}}
    {{/each}}
  {{/with}}
</template>

<template name="spacebars_template_test_new_each_lookup_block_helper">
  {{#with subcontext}}
    {{#each item in letter_b}}
      {{> Template.contentBlock}}
    {{/each}}
  {{/with}}
</template>

<template name="spacebars_template_test_let_bindings">
  {{#with dataContext}}
    {{#let alias=helper anotherVarFromContext="override"}}
      <div>{{alias}} -- {{helper}} -- {{varFromContext}} -- {{anotherVarFromContext}}</div>
    {{/let}}
  {{/with}}
</template>

<template name="spacebars_template_test_each_index">
  {{#each things}}
    <span>{{@index}} - {{num}}</span>
  {{/each}}
</template>

<template name="spacebars_template_test_nested_exprs">
  {{add (add 1 2) 3}}
</template>

<template name="spacebars_template_test_nested_subexprs">
  {{capitalize (firstWord generateSentence)}}
</template>

<template name="spacebars_template_test_exprs_keyword_callable">
  {{stuff}} {{another}}
</template>

<template name="spacebars_template_test_exprs_keyword">
  {{> spacebars_template_test_exprs_keyword_callable stuff=(capitalize name) another=(capitalize "mello")}}
</template>

<template name="spacebars_template_test_with_rerender">
  <input type="text" class="foo">
  {{#with y=x}}
    <span class="bar">{{y}}</span>
  {{/with}}
</template>

<template name="spacebars_template_test_let_rerender">
  <input type="text" class="foo">
  {{#let y=x}}
    <span class="bar">{{y}}</span>
  {{/let}}
</template>

<template name="spacebars_template_test_each_multiarg">
  {{#each helper arg}}
    <div>{{this}}</div>
  {{/each}}
</template>

<template name="spacebars_template_test_lexical_leakage">
  {{#each list}}
    <div><span>{{@index}}</span>{{> spacebars_template_test_get_index}}</div>
  {{/each}}
</template>

<template name="spacebars_template_test_get_index">
  <span>{{@index}}</span>
</template>

<template name="spacebars_template_test_each_in_multi_args">
  {{#each item in helper list}}
    <div>{{item}}</div>
  {{/each}}
</template>
